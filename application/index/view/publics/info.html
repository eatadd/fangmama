<extend name="base/common"/>

<block name="body">
    <style>
        #app {
            margin: 10px 0
        }
    </style>
    <div id="app">
        <el-form ref="form" :model="form" label-width="80px">
            <template v-for="fields in field">
                <div v-if="fields.type == 'text'">
                    <el-form-item :label="fields.title">
                        {{fields.value}}
                    </el-form-item>
                </div>
                <div v-if="fields.type == 'img'">
                    <el-form-item :label="fields.title">
                        <div class="demo-image__preview">
                            <template v-for="imgs in fields.value">
                                <el-image
                                        style="width: 100px; height: 100px;margin-right: 10px"
                                        :src="imgs"
                                        :preview-src-list="srcList">
                                </el-image>
                            </template>
                        </div>
                    </el-form-item>
                </div>
            </template>
            <el-form-item>
                <el-button @click="prev">返回</el-button>
            </el-form-item>
        </el-form>
    </div>
</block>
<block name="js">
    <script type="text/javascript">
        let data = JSON.parse('{$data|raw}');
        var myvue = new Vue({
            el: '#app',
            data: {
                form: {
                    name: '',
                    region: '',
                    date1: '',
                    date2: '',
                    delivery: false,
                    type: [],
                    resource: '',
                    desc: ''
                },
                url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',
                srcList: [
                    'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',
                    'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg'
                ],
                field: data.field,
            },
            methods: {
                onSubmit() {
                    console.log('submit!');
                },
                prev() {
                    window.location.href = '{:url("lists")}';
                },
            }
        });
    </script>
</block>


